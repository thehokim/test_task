{
  "info": {
    "name": "JSONPlaceholder API Tests",
    "description": "Comprehensive API testing collection for JSONPlaceholder service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Posts",
      "item": [
        {
          "name": "GET All Posts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Content-Type is application/json\", function () {",
                  "    pm.response.to.have.header(\"Content-Type\");",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response is an array\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});",
                  "",
                  "pm.test(\"Array contains more than 0 elements\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.length).to.be.above(0);",
                  "});",
                  "",
                  "pm.test(\"First element has correct structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const firstPost = jsonData[0];",
                  "    ",
                  "    pm.expect(firstPost).to.have.property('userId');",
                  "    pm.expect(firstPost).to.have.property('id');",
                  "    pm.expect(firstPost).to.have.property('title');",
                  "    pm.expect(firstPost).to.have.property('body');",
                  "    ",
                  "    pm.expect(firstPost.userId).to.be.a('number');",
                  "    pm.expect(firstPost.id).to.be.a('number');",
                  "    pm.expect(firstPost.title).to.be.a('string');",
                  "    pm.expect(firstPost.body).to.be.a('string');",
                  "});",
                  "",
                  "const jsonData = pm.response.json();",
                  "if (jsonData.length > 0) {",
                  "    pm.environment.set(\"postId\", jsonData[0].id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseURL}}/posts",
              "host": ["{{baseURL}}"],
              "path": ["posts"]
            }
          }
        },
        {
          "name": "GET Post by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Post ID equals 1\", function () {",
                  "    pm.expect(jsonData.id).to.eql(1);",
                  "});",
                  "",
                  "pm.test(\"Post has all required fields\", function () {",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('title');",
                  "    pm.expect(jsonData).to.have.property('body');",
                  "});",
                  "",
                  "pm.test(\"Field data types are correct\", function () {",
                  "    pm.expect(jsonData.userId).to.be.a('number');",
                  "    pm.expect(jsonData.id).to.be.a('number');",
                  "    pm.expect(jsonData.title).to.be.a('string').and.not.empty;",
                  "    pm.expect(jsonData.body).to.be.a('string').and.not.empty;",
                  "});",
                  "",
                  "pm.test(\"Fields contain non-empty values\", function () {",
                  "    pm.expect(jsonData.title.length).to.be.above(0);",
                  "    pm.expect(jsonData.body.length).to.be.above(0);",
                  "    pm.expect(jsonData.userId).to.be.above(0);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseURL}}/posts/1",
              "host": ["{{baseURL}}"],
              "path": ["posts", "1"]
            }
          }
        },
        {
          "name": "POST Create New Post",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const randomTitle = `Test Post ${Math.floor(Math.random() * 10000)}`;",
                  "const randomBody = `This is a test post body created at ${new Date().toISOString()}`;",
                  "",
                  "pm.environment.set(\"newPostTitle\", randomTitle);",
                  "pm.environment.set(\"newPostBody\", randomBody);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "const jsonData = pm.response.json();",
                  "const sentTitle = pm.environment.get(\"newPostTitle\");",
                  "const sentBody = pm.environment.get(\"newPostBody\");",
                  "",
                  "pm.test(\"Created post contains sent data\", function () {",
                  "    pm.expect(jsonData.title).to.eql(sentTitle);",
                  "    pm.expect(jsonData.body).to.eql(sentBody);",
                  "    pm.expect(jsonData.userId).to.eql(1);",
                  "});",
                  "",
                  "pm.test(\"Response contains generated ID\", function () {",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.id).to.be.a('number');",
                  "    pm.expect(jsonData.id).to.be.above(0);",
                  "});",
                  "",
                  "pm.environment.set(\"createdPostId\", jsonData.id);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\": \"{{newPostTitle}}\",\n    \"body\": \"{{newPostBody}}\",\n    \"userId\": 1\n}"
            },
            "url": {
              "raw": "{{baseURL}}/posts",
              "host": ["{{baseURL}}"],
              "path": ["posts"]
            }
          }
        },
        {
          "name": "PUT Update Post",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const updatedTitle = `Updated Post ${Math.floor(Math.random() * 10000)}`;",
                  "const updatedBody = `This post was updated at ${new Date().toISOString()}`;",
                  "",
                  "pm.environment.set(\"updatedPostTitle\", updatedTitle);",
                  "pm.environment.set(\"updatedPostBody\", updatedBody);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const jsonData = pm.response.json();",
                  "const updatedTitle = pm.environment.get(\"updatedPostTitle\");",
                  "const updatedBody = pm.environment.get(\"updatedPostBody\");",
                  "",
                  "pm.test(\"Response contains updated data\", function () {",
                  "    pm.expect(jsonData.title).to.eql(updatedTitle);",
                  "    pm.expect(jsonData.body).to.eql(updatedBody);",
                  "    pm.expect(jsonData.userId).to.eql(1);",
                  "    pm.expect(jsonData.id).to.eql(1);",
                  "});",
                  "",
                  "pm.test(\"Response has correct structure\", function () {",
                  "    pm.expect(jsonData).to.have.all.keys('userId', 'id', 'title', 'body');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"id\": 1,\n    \"title\": \"{{updatedPostTitle}}\",\n    \"body\": \"{{updatedPostBody}}\",\n    \"userId\": 1\n}"
            },
            "url": {
              "raw": "{{baseURL}}/posts/1",
              "host": ["{{baseURL}}"],
              "path": ["posts", "1"]
            }
          }
        },
        {
          "name": "DELETE Post",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is an empty object\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "    pm.expect(Object.keys(jsonData).length).to.eql(0);",
                  "});",
                  "",
                  "pm.test(\"Response time is less than 2000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseURL}}/posts/1",
              "host": ["{{baseURL}}"],
              "path": ["posts", "1"]
            }
          }
        }
      ]
    },
    {
      "name": "Comments",
      "item": [
        {
          "name": "GET Post Comments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"All comments belong to postId 1\", function () {",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    jsonData.forEach(function(comment) {",
                  "        pm.expect(comment.postId).to.eql(1);",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Comments have correct structure\", function () {",
                  "    pm.expect(jsonData.length).to.be.above(0);",
                  "    ",
                  "    const firstComment = jsonData[0];",
                  "    pm.expect(firstComment).to.have.property('postId');",
                  "    pm.expect(firstComment).to.have.property('id');",
                  "    pm.expect(firstComment).to.have.property('name');",
                  "    pm.expect(firstComment).to.have.property('email');",
                  "    pm.expect(firstComment).to.have.property('body');",
                  "});",
                  "",
                  "pm.test(\"Comment fields have correct data types\", function () {",
                  "    const firstComment = jsonData[0];",
                  "    ",
                  "    pm.expect(firstComment.postId).to.be.a('number');",
                  "    pm.expect(firstComment.id).to.be.a('number');",
                  "    pm.expect(firstComment.name).to.be.a('string').and.not.empty;",
                  "    pm.expect(firstComment.email).to.be.a('string').and.not.empty;",
                  "    pm.expect(firstComment.body).to.be.a('string').and.not.empty;",
                  "});",
                  "",
                  "pm.test(\"Email fields have valid format\", function () {",
                  "    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
                  "    ",
                  "    jsonData.forEach(function(comment) {",
                  "        pm.expect(comment.email).to.match(emailRegex);",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseURL}}/posts/1/comments",
              "host": ["{{baseURL}}"],
              "path": ["posts", "1", "comments"]
            }
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "GET All Users",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "const jsonData = pm.response.json();",
                  "",
                  "pm.test(\"Exactly 10 users returned\", function () {",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    pm.expect(jsonData.length).to.eql(10);",
                  "});",
                  "",
                  "pm.test(\"All users have valid email addresses\", function () {",
                  "    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
                  "    ",
                  "    jsonData.forEach(function(user) {",
                  "        pm.expect(user).to.have.property('email');",
                  "        pm.expect(user.email).to.match(emailRegex);",
                  "    });",
                  "});",
                  "",
                  "pm.test(\"Users have correct structure\", function () {",
                  "    const firstUser = jsonData[0];",
                  "    ",
                  "    pm.expect(firstUser).to.have.property('id');",
                  "    pm.expect(firstUser).to.have.property('name');",
                  "    pm.expect(firstUser).to.have.property('username');",
                  "    pm.expect(firstUser).to.have.property('email');",
                  "    pm.expect(firstUser).to.have.property('address');",
                  "    pm.expect(firstUser).to.have.property('phone');",
                  "    pm.expect(firstUser).to.have.property('website');",
                  "    pm.expect(firstUser).to.have.property('company');",
                  "});",
                  "",
                  "pm.test(\"All user IDs are unique\", function () {",
                  "    const ids = jsonData.map(user => user.id);\n    const uniqueIds = [...new Set(ids)];",
                  "    pm.expect(ids.length).to.eql(uniqueIds.length);",
                  "});",
                  "",
                  "if (jsonData.length > 0) {",
                  "    pm.environment.set(\"userId\", jsonData[0].id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseURL}}/users",
              "host": ["{{baseURL}}"],
              "path": ["users"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseURL",
      "value": "https://jsonplaceholder.typicode.com",
      "type": "string"
    }
  ]
}